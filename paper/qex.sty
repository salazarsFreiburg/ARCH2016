% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
% $Id: qex.sty,v 1.1 2006/10/06 16:43:05 berndw Exp $
%
% qex -- a qod-erat-whatever symbol to mark the end of theorem environments
%        similar to the qed symbol for proofs 
% 
% Bernd Westphal, 2006-04-12 <westphal@informatik.uni-oldenburg.de>
%
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
%
% Permission is hereby granted, without written agreement and without
% license or royalty fees, to use, copy, modify, and distribute this
% software and its documentation for any purpose, provided that the
% above copyright notice and the following two paragraphs appear in
% all copies of this software.
%
% IN NO EVENT SHALL THE AUTHOR BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT, 
% SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OF 
% THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF THE AUTHOR HAS BEEN ADVISED 
% OF THE POSSIBILITY OF SUCH DAMAGE.
% 
% THE AUTHOR SPECIFICALLY DISCLAIMS ANY WARRANTIES,
% INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
% AND FITNESS FOR A PARTICULAR PURPOSE.  THE SOFTWARE PROVIDED HEREUNDER IS
% ON AN "AS IS" BASIS, AND THE AUTHOR HAS NO OBLIGATION TO
% PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
%
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{qex}[2006/04/12 end of theorem indicator]

\newcommand{\qex@sym}{{$\diamondsuit$}}

\newcommand{\qex@mslinecore}[2][\qex@sym]{%
  \ensuremath{\phantom{\text{#1}}}%
  \hfill%
  {#2}%
  \hfill%
  {#1}}

\newcommand{\qex}{\hfill\qex@sym}

% the following macros are intended to be used to provide display mode, i.e.
% a \[ \] environment, with a qex symbol.  To this end, the last line of the
% math content is put inside a \qexmsline or \qexmslineds which undoes the
% \displayskip beforehand such that the <content> appears to belong to the
% \[ \] environment

% \qexmsline[<qexsymbol>]{<line content>}
%
% <content> is set centered in text mode with a <qexsymbol> flushed right
%
\newcommand{\qexmsline}[2][\qex@sym]{%
  \vspace{\abovedisplayskip}\newline%
  {\centering\qex@mslinecore[#1]{#2}}}

% \qexmslineds[<qexsymbol>]{<line content>}
%
% like \qexmsline but <content> set in math-mode and displaystyle
%
\newcommand{\qexmslineds}[2][\qex@sym]{%
  \vspace{\abovedisplayskip}\newline%
  {\centering\qex@mslinecore[#1]{$\displaystyle{#2}$}}}

\endinput
